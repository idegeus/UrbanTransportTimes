{"version":3,"sources":["images/walk.svg","images/car.svg","images/bike.svg","images/pt.svg","images/arrow-left.svg","components/SwitchCircle.jsx","components/PageComponents.jsx","components/DetourGraph.jsx","components/MeanSpeed.jsx","components/CitiesInProject.jsx","PageMain.js","PageMap.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","styled","div","Page","BodyText","Heading1","h1","Heading2","h2","mode_icons","car","bike","pt","walk","mode_colors","Logo","style","props","width","height","display","flexWrap","justifyContent","padding","map","mode","margin","background","borderRadius","src","filter","Button","text","block","fullBlock","onClick","center","active","alignItems","border","textAlign","color","cursor","flexShrink","marginRight","DetourGraph","href","MeanSpeed","translateModeState","state","time","data","React","Component","fullnames_conts","componentDidMount","event","loadCities","fetch","process","then","response","json","continents","forEach","row","continent","concat","Object","keys","key","sort","a","b","city","d","console","log","setState","citylist","size","flexDirection","this","cities","ContinentBlock","borderBottom","fontSize","fontWeight","marginBottom","maxHeight","to","replace","ctr_name","ctr_lat","ctr_lon","PageMain","handleChange","target","name","value","requestSwitchTimes","secs","request_url","departure_time","Math","max","car_p_time","bike_p_time","switch_cities","sortSwitchCities","sort_direction","point","handleSortChange","className","HeaderSpacer","Header","HeaderNiceMaker","marginLeft","CitiesInProject","cookies","Cookies","PageMap","getCityGeojson","geojson_data","match","params","ptime","parseFloat","get","onEachFeature","feature","layer","on","mouseover","highlightFeature","bind","mouseout","resetHighlight","click","clickToFeature","el","current_cell","properties","hovered_cell","undefined","onClickReset","viewport","onViewportChanged","formatMode","includes","deptime","styleFeatures","cell_id","weight","opacity","dash","fillOpacity","fastest_mode","Shared","setMode","decRound","num","round","townhall","lat","lon","city_friendly","max_values","zoom","position","PageDivider","Sidebar","SidebarOptions","title","ButtonSpreader","StyledSlider","onChange","set","path","renderTrack","Track","renderThumb","Thumb","min","sky_d","cell_pop","marginTop","rowspan","car_r_t","bike_t","pt_r_t","walk_t","car_r_d","bike_d","pt_r_td","walk_d","car_m_t","pt_m_t","car_m_d","pt_m_td","LeafletMapContainer","Map","TileLayer","attribution","url","GeoJSON","SidebarHeader","arrowl","OptionCollection","children","ReactSlider","StyledThumb","valueNow","StyledTrack","index","ModeIcon","App","exact","component","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7e333a93.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/walk.73d11aa1.svg\";","module.exports = __webpack_public_path__ + \"static/media/car.3b3b5dde.svg\";","module.exports = __webpack_public_path__ + \"static/media/bike.805d6f57.svg\";","module.exports = __webpack_public_path__ + \"static/media/pt.cd0b451d.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-left.18be30f9.svg\";","import React from 'react';\nimport styled from 'styled-components'\nimport {Spring} from 'react-spring/renderprops'\n\nexport const SwitchCircle = (props) => {\n    // Element to display the switching point as a \n    // radius from the center. \n\n    let switching_point = props.point || 0\n    let switching_scale = props.scale || 9.5\n    let anim_factor = props.anim_factor || 1\n    let cityname = props.cityname\n    let switching_fact = (switching_point / switching_scale)\n    let circleradius = Math.min(switching_fact, 0.95) / 2 * 100\n    let is_max = (switching_point >= switching_scale)\n    let width = props.width | \"150\"\n    let height = props.height | props.width + 35\n    let styles = Object.assign({}, props.style, {\n        width, \n        height, \n        margin: 20,\n    })\n\n    return (\n        <div style={{margin: \"1.6rem\"}}>\n            <svg\n                width={width} height={width}\n                viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n\n                {/* Masks out the top right corner for text. */}\n                <mask id=\"sqrCutout\">\n                <polygon points=\"0 0  0 100  100 100  100 50  50 50  50 0\"\n                        fill=\"white\"/>\n                </mask>\n\n                {/* Text titles for elements (including min if needed) */}\n                {is_max && <text x=\"56\" y=\"13\" fontSize=\"10\"\n                    fill=\"#87847E\">min.</text>}\n                <text x=\"56\" y=\"30\" fontSize=\"16\"\n                    fill=\"#403D39\">{switching_point}km</text>\n\n                {/* Draws the actual circles here. */}\n                <circle\n                    cx=\"50\" cy=\"50\"\n                    // r={50} \n                    r={anim_factor * 50} \n                    fill='#1783BB'\n                    mask=\"url(#sqrCutout)\" /> \n                <circle\n                    cx=\"50%\" cy=\"50%\"\n                    r={anim_factor * circleradius}\n                    // r={circleradius}\n                    stroke='#FFFCF2'\n                    strokeWidth='1px'\n                    fill='#EC6A37'\n                    mask=\"url(#sqrCutout)\" />\n\n                {/* Sometimes a house or a tree. */}\n                {switching_fact < 0.4 && <path \n                    transform=\"translate(75,34) scale(0.8)\" \n                    fill='rgba(65, 62, 58, 0.14)'\n                    d=\"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" />}\n                {switching_fact > 0.8 && <path\n                    transform=\"translate(58,34) scale(0.8)\" \n                    fill='rgba(65, 62, 58, 0.14)'\n                    d=\"M11,21V16.74C10.53,16.91 10.03,17 9.5,17C7,17 5,15 5,12.5C5,11.23 5.5,10.09 6.36,9.27C6.13,8.73 6,8.13 6,7.5C6,5 8,3 10.5,3C12.06,3 13.44,3.8 14.25,5C14.33,5 14.41,5 14.5,5A5.5,5.5 0 0,1 20,10.5A5.5,5.5 0 0,1 14.5,16C14,16 13.5,15.93 13,15.79V21H11Z\" />}\n\n                {/* Draws the bike, car. */}\n                <path \n                    transform=\"translate(52,37.5) scale(0.6)\" \n                    fill='#EC6A37'\n                    d=\"M5,20.5A3.5,3.5 0 0,1 1.5,17A3.5,3.5 0 0,1 5,13.5A3.5,3.5 0 0,1 8.5,17A3.5,3.5 0 0,1 5,20.5M5,12A5,5 0 0,0 0,17A5,5 0 0,0 5,22A5,5 0 0,0 10,17A5,5 0 0,0 5,12M14.8,10H19V8.2H15.8L13.86,4.93C13.57,4.43 13,4.1 12.4,4.1C11.93,4.1 11.5,4.29 11.2,4.6L7.5,8.29C7.19,8.6 7,9 7,9.5C7,10.13 7.33,10.66 7.85,10.97L11.2,13V18H13V11.5L10.75,9.85L13.07,7.5M19,20.5A3.5,3.5 0 0,1 15.5,17A3.5,3.5 0 0,1 19,13.5A3.5,3.5 0 0,1 22.5,17A3.5,3.5 0 0,1 19,20.5M19,12A5,5 0 0,0 14,17A5,5 0 0,0 19,22A5,5 0 0,0 24,17A5,5 0 0,0 19,12M16,4.8C17,4.8 17.8,4 17.8,3C17.8,2 17,1.2 16,1.2C15,1.2 14.2,2 14.2,3C14.2,4 15,4.8 16,4.8Z\" />\n                \n                <path \n                    transform=\"translate(85,37.5) scale(0.6)\" \n                    fill='#1783BB'\n                    d=\"M5,11L6.5,6.5H17.5L19,11M17.5,16A1.5,1.5 0 0,1 16,14.5A1.5,1.5 0 0,1 17.5,13A1.5,1.5 0 0,1 19,14.5A1.5,1.5 0 0,1 17.5,16M6.5,16A1.5,1.5 0 0,1 5,14.5A1.5,1.5 0 0,1 6.5,13A1.5,1.5 0 0,1 8,14.5A1.5,1.5 0 0,1 6.5,16M18.92,6C18.72,5.42 18.16,5 17.5,5H6.5C5.84,5 5.28,5.42 5.08,6L3,12V20A1,1 0 0,0 4,21H5A1,1 0 0,0 6,20V19H18V20A1,1 0 0,0 19,21H20A1,1 0 0,0 21,20V12L18.92,6Z\" />\n                \n            </svg>\n            <CityName>{cityname}</CityName>\n        </div>\n    )\n}\n\nconst CityName = styled.div`\nwidth: 100%;\ntext-align: center;\nmargin-top: 0.2rem;\nfont-size: 1.3rem;\n`\n\nexport default SwitchCircle","import React from 'react';\nimport styled from 'styled-components'\n\nimport car from '../images/car.svg';\nimport bike from '../images/bike.svg';\nimport pt from '../images/pt.svg';\nimport walk from '../images/walk.svg';\n\nexport const Page = styled.div`\n  min-height: 100vh;\n  padding-bottom: 2rem;\n  border-bottom: #403D39 2px solid;\n  margin-bottom: 2rem;\n`\n\nexport const BodyText = styled.div`\n  width: 70%;\n  margin-bottom: 2rem;\n`\n\nexport const Heading1 = styled.h1`\n  padding: 1rem;\n  background: #403D39;\n  text-align: left;\n  display: inline-flex;\n  align-items: center;\n  font-weight: bold;\n  font-size: 2.3rem;\n  color: #FFFFFF;\n`\nexport const Heading2 = styled.h2`\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n  color: #403D39;\n  text-align: left;\n  font-weight: bold;\n`\n\nexport const mode_icons = {car, bike, pt, walk}\nexport const mode_colors = {\n  car: '#EC6A37', \n  bike: '#1481BA', \n  pt: '#3E8914', \n  walk: '#C33C54'\n}\n\nexport const Logo = ({style, props}) => (\n  <div {...props} style={{...{\n    width: '3.5rem', height: '3.1rem', display: 'flex', flexWrap: 'wrap', \n    justifyContent: 'spaceAround', padding: 5}, ...style}}>\n      {['car', 'bike', 'pt', 'walk'].map(mode => \n        <div style={{width: '1rem', height: '1rem', margin: '0.1rem', background: mode_colors[mode], borderRadius: 100}}>\n          <img src={mode_icons[mode]} style={{height: '0.6rem', margin: '0.2rem', display: 'block', filter: 'invert(100%)'}} />\n        </div>\n      )}\n  </div>\n)\n\nexport const Button = ({mode, text, block, fullBlock, onClick, center, style, active, ...props}) => (\n  <div \n    {...props}\n    onClick={onClick}\n    style={{...{padding: '0.5rem 0.8rem', \n            display: 'inline-flex',\n            width: fullBlock ? '100%' : block ? '8.5rem' : 'auto',\n            alignItems: 'center',\n            justifyContent: 'flex-start',\n            border: '2px solid #4B4843',\n            textAlign: center ? 'center' : 'left',\n            background: active ? '#CCC5B9' : '#4B4843',\n            color: active ? '#403D39': '#fff',\n            cursor: active ? 'default' : 'pointer'}, ...style}}>\n      {(mode && \n        <div style={{background: mode_colors[mode], \n                     borderRadius: '100px',\n                     display: 'inline-flex',\n                     justifyContent: 'center',\n                     alignItems: 'center',\n                     width: '2rem',\n                     height: '2rem',\n                     flexShrink: 0,\n                     marginRight: '0.8rem'}}>\n          <img src={mode_icons[mode]} \n            style={{height: '1.2rem',\n                    display: 'block',\n                    filter: 'invert(100%)'}} /> \n        </div>)}\n      {text}\n  </div>\n)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as V from 'victory';\nimport * as Shared from './PageComponents.jsx'\n\nimport { VictoryBar, VictoryChart, VictoryAxis, VictoryStack,\n    VictoryTheme, VictoryGroup} from 'victory';\n\nexport const DetourGraph = (props) => {\n\n\n    return (\n        <Shared.Page>\n            <Shared.Heading2>How long is the detour?</Shared.Heading2>\n            <Shared.BodyText>\n                Find the extra distance a vehicle has to make to get to the center of the city. This can\n                give an indication of less accessible parts of the city, especially with public transit. \n                Download the csv-file with data <a href=\"https://github.com/idegeus/UrbanTransportTimes\">here</a>.\n            </Shared.BodyText>\n        </Shared.Page>\n    )\n\n}\n\nexport default DetourGraph","import React from 'react';\nimport styled from 'styled-components'\nimport * as Shared from './PageComponents.jsx'\nimport InlineCluster from '@bedrock-layout/inline-cluster'\nimport { VictoryBar, VictoryChart, VictoryAxis, VictoryStack,\n    VictoryTheme, VictoryLabel } from 'victory';\n\n\n\n\nclass MeanSpeed extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            data: [{\"city\":\"Aarhus\",\"car_r_s\":25.0,\"car_m_s\":24.7,\"bike_s\":16.8,\"walk_s\":5.0},{\"city\":\"Adelaide\",\"car_r_s\":27.5,\"car_m_s\":29.6,\"bike_s\":17.7,\"walk_s\":5.0},{\"city\":\"Amsterdam\",\"car_r_s\":36.2,\"car_m_s\":37.2,\"bike_s\":15.5,\"walk_s\":4.9},{\"city\":\"Auckland\",\"car_r_s\":31.5,\"car_m_s\":42.2,\"bike_s\":17.1,\"walk_s\":5.0},{\"city\":\"Barcelona\",\"car_r_s\":46.5,\"car_m_s\":48.4,\"bike_s\":16.4,\"walk_s\":5.0},{\"city\":\"Berlin\",\"car_r_s\":27.9,\"car_m_s\":30.9,\"bike_s\":17.3,\"walk_s\":5.0},{\"city\":\"Bern\",\"car_r_s\":22.6,\"car_m_s\":23.1,\"bike_s\":16.6,\"walk_s\":5.0},{\"city\":\"Birmingham\",\"car_r_s\":28.3,\"car_m_s\":30.2,\"bike_s\":17.0,\"walk_s\":5.0},{\"city\":\"Bogota\",\"car_r_s\":43.7,\"car_m_s\":43.7,\"bike_s\":17.6,\"walk_s\":5.0},{\"city\":\"Brussels\",\"car_r_s\":30.4,\"car_m_s\":31.6,\"bike_s\":16.5,\"walk_s\":5.0},{\"city\":\"Budapest\",\"car_r_s\":26.5,\"car_m_s\":29.7,\"bike_s\":16.9,\"walk_s\":5.0},{\"city\":\"Buenos Aires\",\"car_r_s\":33.5,\"car_m_s\":21.0,\"bike_s\":15.5,\"walk_s\":5.0},{\"city\":\"Calgary\",\"car_r_s\":43.5,\"car_m_s\":44.2,\"bike_s\":17.1,\"walk_s\":5.0},{\"city\":\"Chicago\",\"car_r_s\":39.9,\"car_m_s\":35.3,\"bike_s\":17.5,\"walk_s\":5.0},{\"city\":\"Copenhagen\",\"car_r_s\":23.2,\"car_m_s\":27.0,\"bike_s\":17.2,\"walk_s\":5.0},{\"city\":\"Dallas\",\"car_r_s\":49.3,\"car_m_s\":44.2,\"bike_s\":17.2,\"walk_s\":5.0},{\"city\":\"Delhi [New Delhi]\",\"car_r_s\":16.0,\"car_m_s\":16.6,\"bike_s\":17.7,\"walk_s\":5.0},{\"city\":\"Dublin\",\"car_r_s\":13.8,\"car_m_s\":17.4,\"bike_s\":17.4,\"walk_s\":5.0},{\"city\":\"Gothenburg\",\"car_r_s\":33.2,\"car_m_s\":34.9,\"bike_s\":17.0,\"walk_s\":5.0},{\"city\":\"Graz\",\"car_r_s\":33.3,\"car_m_s\":34.7,\"bike_s\":17.5,\"walk_s\":5.0},{\"city\":\"Hamburg\",\"car_r_s\":33.5,\"car_m_s\":37.0,\"bike_s\":16.2,\"walk_s\":5.0},{\"city\":\"Helsinki\",\"car_r_s\":28.4,\"car_m_s\":29.7,\"bike_s\":16.9,\"walk_s\":5.0},{\"city\":\"Houston\",\"car_r_s\":58.3,\"car_m_s\":54.4,\"bike_s\":17.7,\"walk_s\":5.0},{\"city\":\"Kuala Lumpur\",\"car_r_s\":36.6,\"car_m_s\":40.5,\"bike_s\":17.2,\"walk_s\":4.9},{\"city\":\"Lisbon\",\"car_r_s\":39.5,\"car_m_s\":37.6,\"bike_s\":16.2,\"walk_s\":5.0},{\"city\":\"London\",\"car_r_s\":21.8,\"car_m_s\":23.1,\"bike_s\":17.8,\"walk_s\":5.0},{\"city\":\"Los Angeles\",\"car_r_s\":52.7,\"car_m_s\":52.5,\"bike_s\":17.6,\"walk_s\":5.0},{\"city\":\"Luxembourg\",\"car_r_s\":26.0,\"car_m_s\":29.0,\"bike_s\":16.3,\"walk_s\":5.0},{\"city\":\"Madrid\",\"car_r_s\":31.8,\"car_m_s\":39.3,\"bike_s\":17.2,\"walk_s\":5.0},{\"city\":\"Marseille\",\"car_r_s\":46.9,\"car_m_s\":51.3,\"bike_s\":17.3,\"walk_s\":5.0},{\"city\":\"Melbourne\",\"car_r_s\":24.9,\"car_m_s\":29.4,\"bike_s\":17.7,\"walk_s\":5.0},{\"city\":\"Mexico City\",\"car_r_s\":44.0,\"car_m_s\":39.7,\"bike_s\":17.7,\"walk_s\":5.0},{\"city\":\"Montreal\",\"car_r_s\":41.4,\"car_m_s\":34.5,\"bike_s\":17.8,\"walk_s\":5.0},{\"city\":\"Mumbai\",\"car_r_s\":18.5,\"car_m_s\":17.6,\"bike_s\":17.1,\"walk_s\":5.0},{\"city\":\"New York\",\"car_r_s\":40.4,\"car_m_s\":31.5,\"bike_s\":17.0,\"walk_s\":5.0},{\"city\":\"Oslo\",\"car_r_s\":24.5,\"car_m_s\":28.7,\"bike_s\":16.7,\"walk_s\":5.0},{\"city\":\"Paris\",\"car_r_s\":39.4,\"car_m_s\":44.1,\"bike_s\":16.7,\"walk_s\":4.9},{\"city\":\"Perth\",\"car_r_s\":32.2,\"car_m_s\":34.4,\"bike_s\":17.3,\"walk_s\":5.0},{\"city\":\"Philadelphia\",\"car_r_s\":48.2,\"car_m_s\":40.3,\"bike_s\":17.4,\"walk_s\":5.0},{\"city\":\"Phoenix\",\"car_r_s\":46.1,\"car_m_s\":42.8,\"bike_s\":17.5,\"walk_s\":5.0},{\"city\":\"Portland\",\"car_r_s\":47.1,\"car_m_s\":46.9,\"bike_s\":17.9,\"walk_s\":5.0},{\"city\":\"Prague\",\"car_r_s\":35.8,\"car_m_s\":39.9,\"bike_s\":16.0,\"walk_s\":5.0},{\"city\":\"Riga\",\"car_r_s\":27.5,\"car_m_s\":28.3,\"bike_s\":15.6,\"walk_s\":5.0},{\"city\":\"Rio de Janeiro\",\"car_r_s\":47.2,\"car_m_s\":31.8,\"bike_s\":17.2,\"walk_s\":5.0},{\"city\":\"Salvador\",\"car_r_s\":36.5,\"car_m_s\":22.9,\"bike_s\":17.3,\"walk_s\":5.0},{\"city\":\"San Antonio\",\"car_r_s\":45.1,\"car_m_s\":44.0,\"bike_s\":17.2,\"walk_s\":5.0},{\"city\":\"Santiago\",\"car_r_s\":51.0,\"car_m_s\":51.0,\"bike_s\":17.5,\"walk_s\":5.0},{\"city\":\"Stockholm\",\"car_r_s\":44.0,\"car_m_s\":48.7,\"bike_s\":17.3,\"walk_s\":5.0},{\"city\":\"Sydney\",\"car_r_s\":31.8,\"car_m_s\":34.5,\"bike_s\":17.6,\"walk_s\":5.0},{\"city\":\"S\\u00e3o Paulo\",\"car_r_s\":43.3,\"car_m_s\":29.5,\"bike_s\":17.6,\"walk_s\":5.0},{\"city\":\"Tallinn\",\"car_r_s\":33.3,\"car_m_s\":33.5,\"bike_s\":16.8,\"walk_s\":5.0},{\"city\":\"Toronto\",\"car_r_s\":34.4,\"car_m_s\":29.7,\"bike_s\":17.1,\"walk_s\":5.0},{\"city\":\"Utrecht\",\"car_r_s\":35.8,\"car_m_s\":37.7,\"bike_s\":16.5,\"walk_s\":5.0},{\"city\":\"Vienna\",\"car_r_s\":37.7,\"car_m_s\":40.8,\"bike_s\":16.9,\"walk_s\":5.0},{\"city\":\"Warsaw\",\"car_r_s\":23.8,\"car_m_s\":30.7,\"bike_s\":17.0,\"walk_s\":5.0},{\"city\":\"Wellington\",\"car_r_s\":24.8,\"car_m_s\":33.6,\"bike_s\":17.1,\"walk_s\":5.0},{\"city\":\"York\",\"car_r_s\":37.4,\"car_m_s\":37.3,\"bike_s\":15.9,\"walk_s\":5.0}],\n            mode: 'drive',\n            time: 'r'\n        };\n    }\n\n    translateModeState = state => {\n        if(state.mode == 'drive') return 'car_' + state.time + '_s'\n        if(state.mode == 'bike') return 'bike_s'\n        if(state.mode == 'transit') return 'transit_s'\n        if(state.mode == 'walk') return 'walk_s'\n    }\n  \n    render(){\n        return (\n            <Shared.Page>\n                <Shared.Heading2>What's your speed?</Shared.Heading2>\n                <Shared.BodyText>Which speed is an average route in your city? This \n                    metric weighs all routes to the center, and compares them by \n                    the population using them. Keep in mind that this includes the whole city! \n                    If your urban center is an old and congested one, you might\n                    find it quite low here.\n                </Shared.BodyText>\n\n                {/* <VictoryChart\n                    domainPadding={20}\n                    width={1000}\n                    height={700}\n                    padding={{ left: 100, right: 100 }}\n                    domain={{ y: [0, 60] }}\n                >\n\n                    <VictoryStack horizontal={true}>\n                        <VictoryBar\n                            data={this.state.data}\n                            x=\"city\"\n                            animate={{\n                                duration: 2000,\n                                onLoad: { duration: 1000 }\n                            }}\n                            barWidth={10}\n                            sortKey={this.translateModeState(this.state)}\n                            sortOrder={'ascending'}\n                            style={{\n                                data: { fill: \"#4B4843\" },\n                                labels: {fontSize: 10, padding: 15 , width: 60}\n                            }}\n                            labels={({ datum }) => datum.car_r_s}\n                            // labelComponent={<VictoryLabel dy={-30}/>}\n                            y={this.translateModeState(this.state)}\n                        />\n                    </VictoryStack>\n                </VictoryChart> */}\n\n\n            </Shared.Page>\n        )\n    }\n}\n\n\nexport default MeanSpeed","import React from 'react';\nimport styled from 'styled-components'\nimport * as Shared from './PageComponents.jsx'\nimport { Link } from \"react-router-dom\";\n\nconst citylist_json = process.env.PUBLIC_URL + '/data/citystats.json'\nconst citylist_csv = process.env.PUBLIC_URL + '/data/citystats.csv'\nconst fullnames_conts = {\n  \"EUR\": 'Europe',\n  \"NAM\": 'North America',\n  'SAM': 'South America',\n  \"OCE\": 'Oceania',\n  'ASI': 'Asia',\n}\n\n\nclass MeanSpeed extends React.Component {\n\n    constructor(props){\n      super(props);\n      this.state = {\n          citylist: false,\n      };\n  } \n\n  componentDidMount = (event) => {\n    this.loadCities()\n  }\n\n  loadCities = () => {\n     // Fetch\n    fetch(citylist_json)\n\n      // Transform to JSON\n      .then(response => response.json()) \n\n      // Transform to an object of continents with city arrays\n      .then(data => {\n        let continents = {}\n        data.forEach(row => \n          continents[fullnames_conts[row.continent]] = [row].concat(continents[fullnames_conts[row.continent]]) )\n        return continents\n      })\n\n      // Sort city arrays per continent (key)\n      .then(continents => {\n        Object.keys(continents).forEach(key => \n        continents[key] = continents[key].sort((a, b) => (b.city < a.city ? 1 : (b.city > a.city ? -1 : 0))))\n        return continents\n      })\n\n      // Set State.\n      .then(d => {console.log('fetched', d); return d})\n      .then(data => this.setState({citylist: data}))\n  }\n\n  render(){\n    return (\n      <Shared.Page>\n        <Shared.Heading2>What cities are in this database?</Shared.Heading2>\n        <Shared.BodyText size='0.9rem'>\n          The analysed cities are composed of global population databases, \n          bing maps routes and OpenRouteService bicycle-routes. Click on \n          any city to visit its map or download the csv-file with data <a href={citylist_csv}>here</a>.\n        </Shared.BodyText>\n\n        <div style={{width: '100%', height: 620, display: 'flex', flexDirection: 'column', flexWrap: 'wrap'}}>\n          {this.state.citylist && Object.keys(this.state.citylist).map(key => \n            <ContinentBlock key={key} continent={key} cities={this.state.citylist[key]} />)}\n        </div>\n\n      </Shared.Page>\n    )\n  }\n\n}\n\nconst ContinentBlock = ({continent, cities}) => {\n\n  return (\n    <div style={{width: 300, margin: '0 2rem 2rem 0'}}>\n      <div style={{borderBottom: '1px solid #EC6A37', fontSize: '1.5rem', fontWeight: 'medium', marginBottom: '0.5rem'}}>\n        {continent}\n      </div>\n      <div style={{display: 'flex', flexDirection: 'column', maxHeight: 330, flexWrap: 'wrap'}}>\n        {cities.map(city => city && \n          <Link key={city.city} to={process.env.PUBLIC_URL + `/map/${city.city.replace(/ /g,\"_\")}/${city.ctr_name}/${city.ctr_lat}/${city.ctr_lon}`}>\n            <div style={{padding: '0.3rem 0'}} key={city.city}>{city.city}</div>\n          </Link>)}\n      </div>\n    </div>\n  )\n}\n\nexport default MeanSpeed","import React from 'react';\nimport styled from 'styled-components'\nimport {Trail} from 'react-spring/renderprops'\nimport Center from '@bedrock-layout/center'\nimport InlineCluster from '@bedrock-layout/inline-cluster'\nimport SwitchCircle from './components/SwitchCircle'\n\nimport DetourGraph from './components/DetourGraph.jsx'\nimport MeanSpeed from './components/MeanSpeed.jsx'\nimport CitiesInProject from './components/CitiesInProject.jsx'\nimport * as Shared from './components/PageComponents.jsx'\n\n\nimport walk from './images/walk.svg';\n\nconst API_SWITCHCITIES = (time, secs) => '/api/switchcities/' + time + '/' + secs\n\nclass PageMain extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      departure_time: 'm',\n      sort_direction: 'pt_dsc',\n      bike_p_time: 0,\n      car_p_time: 300,\n    };\n  }\n\n  componentDidMount = (event) => {\n    // this.requestSwitchTimes()\n  }\n\n  handleChange = (event) => {\n    this.setState({[event.target.name]: event.target.value}, () => {\n        this.requestSwitchTimes()\n    }) \n\n    if (event.target.name == 'sort_direction'){\n      \n    }\n\n  }\n\n  requestSwitchTimes = () => {\n    let request_url = API_SWITCHCITIES(\n      this.state.departure_time, \n      Math.max(this.state.car_p_time - this.state.bike_p_time, 0))\n    fetch(request_url)\n      .then(response => response.json())\n      .then(data => this.setState({ switch_cities: this.sortSwitchCities(data) }));\n  }\n\n  sortSwitchCities = switch_cities => {\n    switch(this.state.sort_direction) {\n      case 'city_asc': \n        return switch_cities.sort(\n          (a, b) => (b.city < a.city ? 1 : (b.city > a.city ? -1 : 0)))\n\n      case 'pt_asc': \n        return switch_cities.sort(\n          (a, b) => (b.point < a.point ? 1 : (b.point > a.point ? -1 : 0)))\n\n      default: \n      case 'pt_dsc': \n        return switch_cities.sort(\n          (a, b) => (b.point < a.point ? -1 : (b.point > a.point ? 1 : 0)))\n  }}\n\n  handleSortChange = (event) => {\n    this.handleChange(event)\n    this.setState({switch_cities: this.sortSwitchCities(this.state.switch_cities)})\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <HeaderSpacer> <Header>DUTT</Header> <HeaderNiceMaker/> </HeaderSpacer>\n\n        <Center style={{padding: '1rem'}}>\n          <Shared.Heading1>Database of Urban Transport Times <Shared.Logo style={{display: 'inline-flex', marginLeft: '1rem'}}/> </Shared.Heading1>\n          <Shared.BodyText>\n            This project contains the average traffic flow in the worlds cities \n            based on actual traffic information from Bing Maps. Traffic information \n            is based on routes from all points of the city to the center (most of \n            the time city hall). Read the full paper here and find the repository \n            with all data <a href=\"https://github.com/idegeus/UrbanTransportTimes\">here</a>.\n          </Shared.BodyText>\n\n          <CitiesInProject />\n\n          <MeanSpeed />\n\n          <DetourGraph/>\n\n        </Center>\n      </div>\n    );\n  }\n}\n\n\nconst HeaderSpacer = styled.div`\n  width: 100%;\n  position: relative;\n  height: 4rem;\n`\n\nconst HeaderNiceMaker = styled.div`\n  height: 500px;\n  position: fixed;\n  bottom: 99.9%;\n  width: 100%;\n  left: 0;\n  right: 0;\n  background: #403D39;\n  z-index: -1;\n`\n\nconst Header = styled.div`\n  width: 100%;\n  background: #403D39;\n  padding: 1.5rem;\n  height: 4rem;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right:0;\n  color: #FFFCF2;\n`\n\nexport default PageMain;\n","import React from 'react';\nimport styled from 'styled-components'\nimport { Link } from \"react-router-dom\";\n\nimport * as Shared from './components/PageComponents.jsx'\nimport arrowl from './images/arrow-left.svg'\n\nimport { Map, TileLayer, Marker, Popup, GeoJSON } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport ReactSlider from 'react-slider'\nimport Cookies from 'universal-cookie';\n \nconst cookies = new Cookies();\n\nclass PageMap extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      townhall: this.props.match.params.townhall,\n      deptime: 'r',\n      mode: 'fastest',\n      ptime: 5,\n\n      lat: this.props.match.params.lat,\n      lon: this.props.match.params.lon,\n      city: this.props.match.params.city,\n      city_friendly: this.props.match.params.city.replace(/_/g, ' '),\n      max_values: {},\n      zoom: 12,\n      current_cell: undefined,\n      geojson_data: undefined,\n    }\n  }\n\n  getCityGeojson = (city) => {\n    fetch(`${process.env.PUBLIC_URL}/data/heatmaps/${city.replace(/ /g,\"_\")}.geojson`)\n      .then(response => response.json())\n      .then(data => this.setState({geojson_data: data}))\n  }\n\n  componentDidMount = (event) => {\n    this.getCityGeojson(this.props.match.params.city)\n    this.setState({ptime: parseFloat(cookies.get('ptime'))})\n  }\n\n  onEachFeature = (feature, layer) => {\n    layer.on({\n      mouseover: this.highlightFeature.bind(this),\n      mouseout: this.resetHighlight.bind(this),\n      click: this.clickToFeature.bind(this)\n    });\n  }\n\n  clickToFeature =   (el) => this.setState({current_cell: el.target.feature.properties})\n  highlightFeature = (el) => this.setState({hovered_cell: el.target.feature.properties})\n  resetHighlight =   (el) => this.setState({hovered_cell: undefined})\n\n  componentWillReceiveProps({ viewport }) {\n    // When the provided viewport changes, apply it\n    if (viewport !== this.props.viewport) {\n      this.setState({ viewport })\n    }\n  }\n\n  onClickReset = () => this.setState({ viewport: this.props.viewport })\n  onViewportChanged = (viewport) => this.setState({ viewport })\n\n  formatMode = mode => mode + (['car', 'pt'].includes(mode) ? '_' + this.state.deptime : '') + '_t'\n\n  styleFeatures = feature => {\n    const { properties } = feature;\n    const props = properties\n\n    if(this.state.current_cell && props.cell_id == this.state.current_cell.cell_id)\n      return {\n        weight: 0.5,\n        opacity: 0,\n        color: '#000',\n        dash: false,\n        fillOpacity: 0.8\n      };\n\n    switch(this.state.mode){\n\n      case 'fastest': \n\n        let fastest_mode = ''\n        fastest_mode = props['bike_t'] < (props[this.formatMode('car')] + this.state.ptime) ? 'bike' : 'car'\n        fastest_mode = props[this.formatMode('pt')] < props[this.formatMode(fastest_mode)] ? 'pt' : fastest_mode\n        fastest_mode = props['walk_t'] < props[this.formatMode(fastest_mode)] ? 'walk' : fastest_mode\n\n        // if(props['cell_id'] == 457){\n        //   console.log(feature) \n        //   console.log(fastest_mode)\n        // }\n\n        return {\n          // fillColor: this.giveColor(electoralDistrict),\n          weight: 0.5,\n          opacity: 0,\n          color: Shared.mode_colors[fastest_mode],\n          dash: false,\n          fillOpacity: 0.6\n        };\n\n      case 'none': \n        return {\n          fillOpacity: 0\n        };\n\n      default: \n        let factor = props[this.formatMode(this.state.mode)] + (this.state.mode == 'car' && this.state.ptime)\n        let value = (factor / 40) * 0.8\n        let opacity = value > 0 ? 1-value : 0\n        return {\n          // fillColor: this.giveColor(electoralDistrict),\n          weight: 0.5,\n          opacity: 0,\n          color: Shared.mode_colors[this.state.mode],\n          dash: false,\n          fillOpacity: opacity,\n        };\n    }\n  };\n\n  setMode = mode => this.state.mode == mode ? this.setState({mode: 'none'}) : this.setState({mode})\n  decRound = num => Math.round(num * 10) / 10\n\n  render() {\n\n    let position = [this.state.lat, this.state.lon]\n    return (\n      <PageDivider>\n\n        <Sidebar>\n          <SidebarHeader />\n          <SidebarOptions>\n            <div style={{fontSize: '2rem', fontWeight: 'bold'}}>{this.state.city_friendly}</div>\n            <div style={{fontSize: '1rem'}}>Routes to {this.state.townhall}</div>\n\n            <OptionCollection title={'Time Length of Route'}>\n              <ButtonSpreader>\n                <Shared.Button \n                    text={'Driving'} mode='car' onClick={() => this.setMode('car')}\n                    block active={this.state.mode == 'car'} style={{marginBottom: 10}} />\n                <Shared.Button \n                    text={'Biking'}  mode='bike' onClick={() => this.setMode('bike')}\n                    block active={this.state.mode == 'bike'} style={{marginBottom: 10}} />\n                <Shared.Button \n                    text={'Transit'} mode='pt' onClick={() => this.setMode('pt')}\n                    block active={this.state.mode == 'pt'} />\n                <Shared.Button \n                    text={'Walking'} mode='walk' onClick={() => this.setMode('walk')}\n                    block active={this.state.mode == 'walk'} />\n              </ButtonSpreader>\n            </OptionCollection>\n            <OptionCollection title={'Other modes'}>\n            <Shared.Button \n                    style={{padding: '0.25rem 0.5rem'}} fullBlock\n                    text={<><Shared.Logo /><span>Fastest mode per cell</span></>} onClick={() => this.setMode('fastest')}\n                    active={this.state.mode == 'fastest'} />\n              \n            </OptionCollection>\n\n            <OptionCollection title={'Settings'}>\n              <ButtonSpreader>\n                <Shared.Button \n                    text={'Rush Hour (8:00)'} onClick={() => this.setState({deptime: 'r'})}\n                    block center active={this.state.deptime == 'r'} />\n                <Shared.Button \n                    text={'Mid-day   (12:00)'} onClick={() => this.setState({deptime: 'm'})}\n                    block center active={this.state.deptime == 'm'} />\n              </ButtonSpreader>\n              <div style={{padding: '0.5rem'}}>\n              <div style={{marginBottom: '0.5rem'}}>Parking Time</div>\n                <StyledSlider\n                    value={this.state.ptime} \n                    onChange={value => {cookies.set('ptime', value, { path: '/' }); this.setState({ptime: value})}}\n                    renderTrack={Track}\n                    renderThumb={Thumb}\n                    min={0} max={15}\n                />\n              </div>\n              Download files with this data from the repository <a href={'https://github.com/idegeus/UrbanTransportTimes'}>here</a>.\n            </OptionCollection>\n            <OptionCollection title={'Cell Properties'}>\n              {!this.state.current_cell && <span>Select a cell to view its information.</span>}\n              {this.state.current_cell && (<div>\n                <div>Distance from center: {this.decRound(this.state.current_cell.sky_d)} km</div>\n                <div>Estimated population: {Math.round(this.state.current_cell.cell_pop)} citizens</div>\n                <table style={{marginTop: 20}}>\n                  <tr><td/>\n                    <td><ModeIcon mode={'car'}/></td>\n                    <td><ModeIcon mode={'bike'}/></td>\n                    <td><ModeIcon mode={'pt'}/></td>\n                    <td><ModeIcon mode={'walk'}/></td>\n                    <td/></tr>\n                  <tr>\n                    <td rowspan={2}>Rush Hour</td>\n                    <td style={{padding: '0 0.8rem'}}>{this.decRound(this.state.current_cell.car_r_t)}</td>\n                    <td style={{padding: '0 0.8rem'}}>{this.decRound(this.state.current_cell.bike_t)}</td>\n                    <td style={{padding: '0 0.8rem'}}>{this.decRound(this.state.current_cell.pt_r_t)}</td>\n                    <td style={{padding: '0 0.8rem'}}>{this.decRound(this.state.current_cell.walk_t)}</td>\n                    <td>min</td>\n                  </tr>\n                  <tr>\n                    <td>{this.decRound(this.state.current_cell.car_r_d)}</td>\n                    <td>{this.decRound(this.state.current_cell.bike_d)}</td>\n                    <td>{this.decRound(this.state.current_cell.pt_r_td)}</td>\n                    <td>{this.decRound(this.state.current_cell.walk_d)}</td>\n                    <td>km</td>\n                  </tr>\n\n                  <tr>\n                    <td rowspan={2}>Midday</td>\n                    <td>{this.decRound(this.state.current_cell.car_m_t)}</td>\n                    <td>{this.decRound(this.state.current_cell.bike_t)}</td>\n                    <td>{this.decRound(this.state.current_cell.pt_m_t)}</td>\n                    <td>{this.decRound(this.state.current_cell.walk_t)}</td>\n                    <td>min</td>\n                  </tr>\n                  <tr>\n                    <td>{this.decRound(this.state.current_cell.car_m_d)}</td>\n                    <td>{this.decRound(this.state.current_cell.bike_d)}</td>\n                    <td>{this.decRound(this.state.current_cell.pt_m_td)}</td>\n                    <td>{this.decRound(this.state.current_cell.walk_d)}</td>\n                    <td>km</td>\n                  </tr>\n                </table>\n              </div>)}\n            </OptionCollection>\n\n          </SidebarOptions>\n        </Sidebar>\n\n        <LeafletMapContainer>\n        <Map \n          onViewportChanged={this.onViewportChanged}\n          // viewport={this.state.viewport}\n          center={position} \n          zoom={this.state.zoom} \n          style={{ height: \"100vh\" }}>\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          {this.state.geojson_data && \n            <GeoJSON \n            key='my-geojson' \n            data={this.state.geojson_data}\n            style={this.styleFeatures}\n            onEachFeature={this.onEachFeature.bind(this)} /> }\n        </Map>\n        </LeafletMapContainer>\n        \n      </PageDivider>\n    );\n  }\n}\n\nconst PageDivider = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n`\n\n// ==== Sidebar-related stuff\nconst Sidebar = styled.div`\n  width: 330px;\n  flex: 0 0 330px;\n  flex-shrink: 0;\n  background: #403D39;\n  height: 100%;\n  color: #FFFCF2;\n  z-index: 10;\n`\n\nconst SidebarHeader = () => (\n  <Link to={process.env.PUBLIC_URL} className='white'>\n    <div style={{\n        width: '100%', display: 'flex', justifyContent: 'space-between',\n        padding: '1rem 1.5rem', borderBottom: '2px solid #707070', alignItems: 'center'}}>\n      <span style={{fontSize: '3rem', fontWeight: 'bold'}}>DUTT</span>\n      <img src={arrowl} style={{height: '1.2rem', marginLeft: 30, filter: 'invert(100%)'}} />\n      <span>Homepage </span>\n    </div>\n  </Link>\n)\n\nconst SidebarOptions = styled.div`\n  padding: 1rem 1.5rem;\n  color: #ffffff;\n`\n\nconst OptionCollection = ({title, children}) => (\n  <div>\n    <div style={{\n        borderBottom: '1px solid #fff', margin: '0.7rem 0', fontSize: '1.2rem', fontWeight: 'bold'}}>\n      {title}\n    </div>\n    {children}\n  </div>\n)\n\nconst ButtonSpreader = styled.div`\n  display: flex;\n  width: 100%; \n  flex-wrap: wrap;\n  justify-content: space-between;\n`\n\nconst StyledSlider = styled(ReactSlider)`\n    width: 100%;\n    height: 25px;\n`;\n\nconst StyledThumb = styled.div`\n    height: 25px;\n    line-height: 25px;\n    width: 25px;\n    text-align: center;\n    background-color: #000;\n    color: #fff;\n    border-radius: 50%;\n    cursor: grab;\n`;\n\n\nconst Thumb = (props, state) => <StyledThumb {...props}>{state.valueNow}</StyledThumb>;\n\nconst StyledTrack = styled.div`\n    top: 0;\n    bottom: 0;\n    background: ${props => props.index === 1 ? Shared.mode_colors['car'] : '#ddd'};\n    border-radius: 999px;\n`;\n\nconst Track = (props, state) => <StyledTrack {...props} index={state.index} />;\n\nconst ModeIcon = ({mode}) => (\n  <div style={{width: '1.5rem', height: '1.5rem', display: 'block', padding: '0.25rem', margin: '0 auto', background: Shared.mode_colors[mode], borderRadius: 100}}>\n    <img src={Shared.mode_icons[mode]} style={{height: '1rem', display: 'block', filter: 'invert(100%)'}} />\n  </div>\n)\n\n// ==== Leaflet-related\nconst LeafletMapContainer = styled.div`\n  background: limegreen;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n`\n\n\nexport default PageMap;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport PageMain from './PageMain';\nimport PageMap from './PageMap';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route exact path={process.env.PUBLIC_URL + '/'} component={PageMain}></Route>\n        <Route exact path={process.env.PUBLIC_URL + '/map/:city/:townhall/:lat/:lon/'} component={PageMap}></Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}